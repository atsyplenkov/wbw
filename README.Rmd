---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# wbw

<!-- badges: start -->
[![R-CMD-check](https://github.com/atsyplenkov/wbw/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/atsyplenkov/wbw/actions/workflows/R-CMD-check.yaml)
[![Codecov test coverage](https://codecov.io/gh/atsyplenkov/wbw/graph/badge.svg)](https://app.codecov.io/gh/atsyplenkov/wbw)
<!-- badges: end -->

The `wbw` R package provides R bindings to the [Whitebox Workflows for Python](https://www.whiteboxgeo.com/manual/wbw-user-manual/book/preface.html) â€” a
powerful and fast library for advanced geoprocessing, with focus on
hydrological, geomorphometric and remote sensing analysis of raster, vector and
LiDAR data.

## Installation

You can install the development version of wbw from [GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("atsyplenkov/wbw")

# To install Python dependencies run
wbw::wbw_install()
```

## Basic workflow

The `wbw` R package introduces two new S7 classes, `WhiteboxRaster` and `WhiteboxVector`
which serves as a bridge between Python and R. 

```{r example}
library(wbw)

raster_path <- 
  system.file("extdata/dem.tif", package = "wbw")
dem <- wbw_read_raster(raster_path)
dem
```

The true power of the `wbw` unleashes when there's a need to run several operations sequentially, i.e. in a pipeline. For example, first DEM should be smoothed (or filtered), and then the slope should be estimated. 

```{r slope}
slope_deg <-
  dem |>
  wbw_adaptive_filter() |> 
  wbw_slope(units = "d")
summary(slope_deg)
```
